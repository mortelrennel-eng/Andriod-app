rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // e-books are stored under ebooks/
    match /ebooks/{allPaths=**} {
      allow read: if request.auth != null;
      // allow authenticated writes since app enforces role via RTDB
      allow write: if request.auth != null;
    }
    // qr codes are stored under qr_codes/
    match /qr_codes/{allPaths=**} {
      allow read: if request.auth != null;
      allow write: if request.auth != null;
    }
    // default deny: authenticated reads only
    match /{allPaths=**} {
      allow read: if request.auth != null;
      allow write: if false;
    }
  }
}
  